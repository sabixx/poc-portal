<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>POC Insights â€“ PocketBase</title>
  <link rel="stylesheet" href="css/style.css?v=6">
  <link rel="stylesheet" href="css/dashboard_filters.css?v=6">
  <link rel="stylesheet" href="css/timeframe_selector.css?v=6">
  <link rel="stylesheet" href="css/productboard_combined.css?v=6">
  <link rel="stylesheet" href="css/loading.css?v=6">
  <link rel="stylesheet" href="css/exec_dashboard.css?v=6">

  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <!-- PocketBase JS SDK (global) -->
  <script src="https://unpkg.com/pocketbase@0.25.0/dist/pocketbase.umd.js"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@0.563.0/dist/umd/lucide.min.js"></script>
</head>
<body>
  <header class="app-header hidden" id="app-header">
    <!-- Left: Brand + Primary Navigation -->
    <div class="header-left">
      <div class="header-brand">
        <h1>POC Insights</h1>
        <div class="hint" id="user-info">Not signed in</div>
      </div>
      <!-- Primary Navigation -->
      <nav class="header-nav hidden" id="header-nav">
        <a href="#/dashboard" class="nav-item nav-item--active" data-route="dashboard">
          <span class="nav-label">Dashboard</span>
        </a>
        <a href="#/exec" class="nav-item" data-route="exec">
          <span class="nav-label">ER Analytics</span>
        </a>
      </nav>
    </div>
    <!-- Right: Actions + User Menu -->
    <div class="header-right">
      <button id="create-poc-btn" type="button" class="btn btn--primary hidden" title="Create new POC">
        <span class="btn-icon">+</span>
        <span class="btn-label">New POC</span>
      </button>
      <div class="header-user-menu">
        <button id="settings-btn" type="button" class="btn btn--icon hidden" title="Settings"><i data-lucide="settings"></i></button>
        <button id="theme-toggle" type="button" class="btn btn--icon" title="Toggle theme"><i data-lucide="sun-moon"></i></button>
        <button id="logout-btn" type="button" class="btn btn--icon hidden" title="Sign out"><i data-lucide="log-out"></i></button>
      </div>
    </div>
  </header>

  <main class="app-main">
    <!-- Login/Signup -->
    <section id="login-section">
      <h2 id="auth-title">Login</h2>
      <form id="login-form">
        <label id="name-label" class="hidden">
          Name:
          <input type="text" id="login-name">
        </label>
        <label>
          E-mail:
          <input type="email" id="login-email" required>
        </label>
        <label>
          Password:
          <input type="password" id="login-password" required>
        </label>
        <label id="confirm-password-label" class="hidden">
          Confirm Password:
          <input type="password" id="login-password-confirm">
        </label>
        <button type="submit" id="auth-submit-btn">Sign in</button>
      </form>
      <div id="login-error" class="error"></div>
      <div class="auth-toggle">
        <span id="auth-toggle-text">Don't have an account?</span>
        <button type="button" id="auth-toggle-btn" class="link-btn">Sign up</button>
      </div>
      <div class="version-hint">v0.0.4</div>
    </section>

    <!-- Main overview -->
    <section id="portal-section" class="hidden">
      <!-- Filters (moved to top) -->
      <section id="filter-section">
        <!-- Filter bar rendered by JS -->
      </section>

      <!-- Dashboard with View Tabs -->
      <section id="dashboard-section">
        <!-- Dashboard content rendered by JS -->
      </section>

      <!-- POC List (single container) -->
      <section id="pocs-section">
        <div id="pocs-container" class="poc-grid"></div>
      </section>

      <!-- Stats (Use-case) -->
      <section class="stats-section">
        <h2>Use-case Stats</h2>
        <div class="stats-grid">
          <div class="stats-card">
            <h3>Top rated Use Cases</h3>
            <ul id="stats-top-rated"></ul>
          </div>
          <div class="stats-card">
            <h3>Low rated Use Cases</h3>
            <ul id="stats-low-rated"></ul>
          </div>
          <div class="stats-card">
            <h3>Most completed</h3>
            <ul id="stats-most-completed"></ul>
          </div>
          <div class="stats-card">
            <h3>Never completed</h3>
            <ul id="stats-never-completed"></ul>
          </div>
        </div>
      </section>
    </section>

    <!-- Executive Dashboard -->
    <section id="exec-dashboard-section" class="hidden">
      <!-- Back Button -->
      <button id="exec-back-btn" type="button" class="exec-back-btn"><i data-lucide="arrow-left"></i> Back to Portal</button>

      <!-- Filter Bar -->
      <div id="exec-filter-bar"></div>

      <!-- Saved Views Bar -->
      <div id="exec-saved-views"></div>

      <!-- Sticky Summary -->
      <div id="exec-summary" class="exec-summary-sticky"></div>

      <!-- Top ERs Section -->
      <div id="exec-top-ers"></div>

      <!-- Drill-down Panel -->
      <div id="exec-drilldown" class="hidden"></div>
    </section>

    <!-- POC detail view -->
    <section id="poc-detail-section" class="hidden detail-section">
      <nav class="breadcrumb">
        <a href="#/dashboard" class="breadcrumb-item" id="poc-detail-back">Dashboard</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item breadcrumb-current" id="poc-breadcrumb-name">POC Detail</span>
      </nav>
      <h2 id="poc-detail-title">POC detail</h2>
      <div id="poc-detail-meta" class="poc-detail-meta"></div>
      <div class="detail-table-wrapper">
        <table id="poc-detail-table" class="usecase-table">
          <thead>
            <tr>
              <th>Use case</th>
              <th>Version</th>
              <th>Status</th>
              <th>Rating</th>
              <th>Completed at</th>
              <th>Comments</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Use-case detail view -->
    <section id="usecase-detail-section" class="hidden detail-section">
      <nav class="breadcrumb">
        <a href="#/dashboard" class="breadcrumb-item" id="usecase-detail-back">Dashboard</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item breadcrumb-current" id="uc-breadcrumb-name">Use Case</span>
      </nav>
      <h2 id="usecase-detail-title">Use case detail</h2>
      <div class="detail-table-wrapper">
        <table id="usecase-detail-table" class="usecase-table">
          <thead>
            <tr>
              <th>POC</th>
              <th>SE</th>
              <th>Version</th>
              <th>Status</th>
              <th>Rating</th>
              <th>Completed at</th>
              <th>Comments</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Modules -->
  <script type="module" src="js/theme.js?v=6"></script>
  <script type="module" src="js/main.js?v=6"></script>
</body>
</html>